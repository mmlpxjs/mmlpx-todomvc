{"version":3,"sources":["webpack:///./src/components/TodoItem.tsx","webpack:///./src/mmlpx/loders/TodosLoder.ts","webpack:///./src/mmlpx/stores/TodosStore.ts","webpack:///./src/containers/TodoApp/ViewModel.ts","webpack:///./src/containers/TodoApp/index.tsx","webpack:///./src/index.tsx"],"names":["_super","TodoItem","_this","apply","this","arguments","state","editingText","props","todo","title","tslib_es6","prototype","handleChange","event","setState","target","value","handleSubmit","trim","onUpdate","onEdit","onDestroy","handleKeyDown","key","render","_a","editing","onToggle","react_default","a","createElement","className","completed","type","checked","onChange","onDoubleClick","onClick","onBlur","onKeyDown","Object","lodash_decorators","Todo","react","_b","_c","Component","TodosLoder","saveSnapshot","snapshot","localStorage","setItem","snapshotKey","JSON","stringify","getSnapshot","parse","getItem","TodosStore","uid","list","addTodo","push","id","removeTodo","splice","findIndex","v","updateTodo","toggleAll","forEach","mobx_module","bound","esm","TodoAppViewModel","stack","cursor","inputtingTodo","filter","defineProperty","length","todosStore","every","activeTodos","completedTodos","changeFilter","editingTodoId","onInputChange","changedInput","allCompleted","clearCompleted","slice","enableRedoUndo","loders_TodosLoder","redo","undo","stores_TodosStore","Boolean","_d","Filter","selected","caption","style","Index","componentDidMount","viewModel","handleNewTodoKeyDown","visibleTodos","canRedo","canUndo","placeholder","autoFocus","htmlFor","map","components_TodoItem","textAlign","disabled","ViewModel","index_module","enforceActions","react_dom_default","TodoApp","document","body","querySelector"],"mappings":"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","file":"app-5f50fbe6.min.js","sourcesContent":["/**\n * @author Kuitos\n * @homepage https://github.com/kuitos/\n * @since 2018-06-28 14:51\n */\n\nimport { bind } from 'lodash-decorators';\nimport React, { KeyboardEvent } from 'react';\nimport { Todo } from '../mmlpx/models/Todo';\n\ninterface Props {\n\ttodo: Todo;\n\tediting: boolean;\n\tonToggle: (todo: Todo) => void;\n\tonDestroy: (todo: Todo) => void;\n\tonUpdate: (todo: Todo) => void;\n\tonEdit: (todo: Todo, editing: boolean) => void;\n}\n\ntype States = {\n\teditingText: string;\n};\n\nexport default class TodoItem extends React.Component<Props, States> {\n\n\tstate = {\n\t\teditingText: this.props.todo.title,\n\t};\n\n\t@bind()\n\thandleChange(event: any) {\n\t\tthis.setState({ editingText: event.target.value });\n\t}\n\n\t@bind()\n\thandleSubmit(todo: Todo) {\n\t\tconst value = this.state.editingText.trim();\n\t\tif (value) {\n\t\t\tif (value !== todo.title) {\n\t\t\t\tthis.props.onUpdate({ ...todo, title: value });\n\t\t\t\tthis.setState({ editingText: value });\n\t\t\t}\n\t\t\tthis.props.onEdit(todo, false);\n\t\t} else {\n\t\t\tthis.props.onDestroy(todo);\n\t\t}\n\t}\n\n\t@bind()\n\thandleKeyDown(event: KeyboardEvent<HTMLInputElement>, todo: Todo) {\n\t\tif (event.key === 'Enter') {\n\t\t\tthis.handleSubmit(todo);\n\t\t} else if (event.key === 'Escape') {\n\t\t\tthis.setState({ editingText: todo.title });\n\t\t\tthis.props.onEdit(todo, false);\n\t\t}\n\n\t}\n\n\trender() {\n\n\t\tconst { todo, editing, onToggle, onDestroy, onEdit } = this.props;\n\t\tconst { editingText } = this.state;\n\n\t\treturn (\n\t\t\t<li className={`${todo.completed ? 'completed' : ''} ${editing ? 'editing' : ''}`}>\n\t\t\t\t<div className=\"view\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"toggle\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tchecked={todo.completed}\n\t\t\t\t\t\tonChange={() => onToggle(todo)}\n\t\t\t\t\t/>\n\t\t\t\t\t<label onDoubleClick={() => onEdit(todo, true)}>\n\t\t\t\t\t\t{todo.title}\n\t\t\t\t\t</label>\n\t\t\t\t\t<button className=\"destroy\" onClick={() => onDestroy(todo)}/>\n\t\t\t\t</div>\n\t\t\t\t<input\n\t\t\t\t\tclassName=\"edit\"\n\t\t\t\t\tvalue={editingText}\n\t\t\t\t\tonBlur={() => this.handleSubmit(todo)}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\tonKeyDown={event => this.handleKeyDown(event, todo)}\n\t\t\t\t/>\n\t\t\t</li>\n\t\t);\n\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/TodoItem.tsx","/**\n * @author Kuitos\n * @homepage https://github.com/kuitos/\n * @since 2018-06-29 18:11\n */\nimport { Snapshot } from 'mmlpx';\n\nexport default class TodosLoder {\n\n\tstatic readonly snapshotKey = 'mmlpx-snapshot';\n\n\tstatic saveSnapshot(snapshot: Snapshot) {\n\t\tlocalStorage.setItem(TodosLoder.snapshotKey, JSON.stringify(snapshot));\n\t}\n\n\tstatic getSnapshot(): Snapshot {\n\t\treturn JSON.parse(localStorage.getItem(TodosLoder.snapshotKey)!);\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/mmlpx/loders/TodosLoder.ts","/**\n * @author Kuitos\n * @homepage https://github.com/kuitos/\n * @since 2018-06-27 20:43\n */\n\nimport { Store } from 'mmlpx';\nimport { action, observable } from 'mobx';\nimport { Todo } from '../models/Todo';\n\n@Store\nexport default class TodosStore {\n\n\tprivate uid = 0;\n\n\t@observable\n\tlist: Todo[] = [];\n\n\t@action\n\taddTodo(title: string) {\n\t\tthis.list.push({\n\t\t\ttitle,\n\t\t\tcompleted: false,\n\t\t\tid: this.uid++,\n\t\t});\n\t}\n\n\t@action\n\tremoveTodo(todo: Todo) {\n\t\tthis.list.splice(this.list.findIndex(v => todo.id === v.id), 1);\n\t}\n\n\t@action\n\tupdateTodo(todo: Todo) {\n\t\tthis.list.splice(this.list.findIndex(v => todo.id === v.id), 1, todo);\n\t}\n\n\t@action.bound\n\ttoggleAll(completed: boolean) {\n\t\tthis.list.forEach(todo => todo.completed = completed);\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/mmlpx/stores/TodosStore.ts","/**\n * @author Kuitos\n * @homepage https://github.com/kuitos/\n * @since 2018-06-27 23:07\n */\n\nimport { applySnapshot, getSnapshot, inject, onSnapshot, Snapshot, ViewModel } from 'mmlpx';\nimport { action, computed, observable, runInAction } from 'mobx';\nimport TodosLoder from '../../mmlpx/loders/TodosLoder';\nimport { Todo } from '../../mmlpx/models/Todo';\nimport TodosStore from '../../mmlpx/stores/TodosStore';\n\ntype Filter = 'all' | 'active' | 'completed';\n\n@ViewModel\nexport default class TodoAppViewModel {\n\n\t@inject()\n\tprivate readonly todosStore: TodosStore;\n\n\t@observable\n\tprivate stack: Snapshot[] = [];\n\n\t@observable\n\tprivate cursor = 0;\n\n\t@observable\n\tinputtingTodo = '';\n\n\t@observable\n\teditingTodoId: number | null;\n\n\t@observable\n\tfilter: Filter = 'all';\n\n\t@computed\n\tget canRedo() {\n\t\treturn this.stack.length > 1 && 0 <= this.cursor && this.cursor < this.stack.length - 1;\n\t}\n\n\t@computed\n\tget canUndo() {\n\t\treturn this.stack.length > 1 && 0 < this.cursor && this.cursor < this.stack.length;\n\t}\n\n\t@computed\n\tget allCompleted(): boolean {\n\t\treturn this.todosStore.list.every(todo => todo.completed);\n\t}\n\n\t@computed\n\tget activeTodos() {\n\t\treturn this.todosStore.list.filter(todo => !todo.completed);\n\t}\n\n\t@computed\n\tget completedTodos() {\n\t\treturn this.todosStore.list.filter(todo => todo.completed);\n\t}\n\n\t@computed\n\tget visibleTodos() {\n\t\tswitch (this.filter) {\n\t\t\tcase 'all':\n\t\t\t\treturn this.todosStore.list;\n\n\t\t\tcase 'active':\n\t\t\t\treturn this.activeTodos;\n\n\t\t\tcase 'completed':\n\t\t\t\treturn this.completedTodos;\n\t\t}\n\t}\n\n\t@action.bound\n\tchangeFilter(filter: Filter) {\n\t\tthis.filter = filter;\n\t}\n\n\t@action.bound\n\tonEdit(todo: Todo, editing: boolean) {\n\t\tthis.editingTodoId = editing ? todo.id : null;\n\t}\n\n\t@action.bound\n\tonInputChange(changedInput: string) {\n\t\tthis.inputtingTodo = changedInput.trim();\n\t}\n\n\t@action.bound\n\taddTodo() {\n\t\tif (this.inputtingTodo) {\n\t\t\tthis.todosStore.addTodo(this.inputtingTodo);\n\t\t\tthis.inputtingTodo = '';\n\t\t}\n\t}\n\n\t@action.bound\n\tremoveTodo(todo: Todo) {\n\t\tthis.todosStore.removeTodo(todo);\n\t}\n\n\t@action.bound\n\tupdateTodo(todo: Todo) {\n\t\tthis.todosStore.updateTodo(todo);\n\t}\n\n\t@action.bound\n\ttoggleAll() {\n\t\tthis.todosStore.toggleAll(!this.allCompleted);\n\t}\n\n\t@action.bound\n\tclearCompleted() {\n\t\tconst todos = [...this.todosStore.list];\n\t\ttodos.forEach(todo => {\n\t\t\tif (todo.completed) {\n\t\t\t\tthis.todosStore.removeTodo(todo);\n\t\t\t}\n\t\t});\n\t}\n\n\t@action.bound\n\tenableRedoUndo() {\n\t\tthis.stack.push(getSnapshot());\n\t\tonSnapshot(snapshot => {\n\t\t\trunInAction(() => {\n\t\t\t\tthis.stack.push(snapshot);\n\t\t\t\tthis.cursor = this.stack.length - 1;\n\t\t\t\tTodosLoder.saveSnapshot(snapshot);\n\t\t\t});\n\t\t});\n\t}\n\n\t@action.bound\n\tredo() {\n\t\tapplySnapshot(this.stack[++this.cursor]);\n\t}\n\n\t@action.bound\n\tundo() {\n\t\tapplySnapshot(this.stack[--this.cursor]);\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/TodoApp/ViewModel.ts","/**\n * @author Kuitos\n * @homepage https://github.com/kuitos/\n * @since 2018-06-27 20:35\n */\n\nimport { bind } from 'lodash-decorators';\nimport { inject } from 'mmlpx';\nimport { observer } from 'mobx-react';\nimport React, { KeyboardEvent, SFC } from 'react';\nimport TodoItem from '../../components/TodoItem';\nimport TodoAppViewModel from './ViewModel';\n\ninterface LinkProps {\n\tselected: boolean\n\tonClick: () => void\n\tcaption: string\n}\n\nconst Filter: SFC<LinkProps> = ({ selected, caption, onClick }) => <li>\n\t<a className={selected ? 'selected' : ''} onClick={onClick} style={{ cursor: 'pointer' }}>\n\t\t{caption}\n\t</a>\n\t{' '}\n</li>;\n\n@observer\nexport default class Index extends React.Component {\n\n\t@inject()\n\tviewModel: TodoAppViewModel;\n\n\tcomponentDidMount() {\n\t\tthis.viewModel.enableRedoUndo();\n\t}\n\n\t@bind()\n\thandleNewTodoKeyDown(event: KeyboardEvent<HTMLInputElement>) {\n\n\t\tif (event.key !== 'Enter') {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.viewModel.addTodo();\n\t}\n\n\trender() {\n\n\t\tconst {\n\t\t\tinputtingTodo, activeTodos, onInputChange, toggleAll, allCompleted, visibleTodos, editingTodoId, onEdit,\n\t\t\tremoveTodo, updateTodo, filter, changeFilter, completedTodos, clearCompleted, undo, redo, canRedo, canUndo,\n\t\t} = this.viewModel;\n\n\t\treturn (\n\t\t\t<section>\n\n\t\t\t\t<div className=\"todoapp\">\n\t\t\t\t\t<header className=\"header\">\n\t\t\t\t\t\t<h1>todos</h1>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"new-todo\"\n\t\t\t\t\t\t\tplaceholder=\"What needs to be done?\"\n\t\t\t\t\t\t\tvalue={inputtingTodo}\n\t\t\t\t\t\t\tonChange={event => onInputChange(event.target.value)}\n\t\t\t\t\t\t\tonKeyDown={this.handleNewTodoKeyDown}\n\t\t\t\t\t\t\tautoFocus={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</header>\n\t\t\t\t\t<section className=\"main\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"toggleAll\"\n\t\t\t\t\t\t\tclassName=\"toggle-all\"\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tonChange={toggleAll}\n\t\t\t\t\t\t\tchecked={allCompleted}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{visibleTodos.length ? <label htmlFor=\"toggleAll\"/> : null}\n\t\t\t\t\t\t<ul className=\"todo-list\">\n\t\t\t\t\t\t\t{visibleTodos.map(todo =>\n\t\t\t\t\t\t\t\t<TodoItem\n\t\t\t\t\t\t\t\t\tkey={todo.id}\n\t\t\t\t\t\t\t\t\tediting={todo.id === editingTodoId}\n\t\t\t\t\t\t\t\t\tonEdit={onEdit}\n\t\t\t\t\t\t\t\t\tonDestroy={removeTodo}\n\t\t\t\t\t\t\t\t\tonToggle={todo => updateTodo({ ...todo, completed: !todo.completed })}\n\t\t\t\t\t\t\t\t\tonUpdate={updateTodo}\n\t\t\t\t\t\t\t\t\ttodo={todo}\n\t\t\t\t\t\t\t\t/>,\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</section>\n\t\t\t\t\t{\n\t\t\t\t\t\t(activeTodos.length || completedTodos.length)\n\t\t\t\t\t\t\t? <footer className=\"footer\">\n\t\t\t\t\t\t\t<span className=\"todo-count\">\n\t\t\t\t\t\t\t\t<strong>{activeTodos.length}</strong> {activeTodos.length >= 1 ? 'items' : 'item'} left\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<ul className=\"filters\">\n\t\t\t\t\t\t\t\t\t<Filter selected={filter === 'all'} onClick={() => changeFilter('all')} caption={'All'}/>\n\t\t\t\t\t\t\t\t\t<Filter selected={filter === 'active'} onClick={() => changeFilter('active')} caption={'Active'}/>\n\t\t\t\t\t\t\t\t\t<Filter selected={filter === 'completed'} onClick={() => changeFilter('completed')} caption={'Completed'}/>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t{completedTodos.length === 0\n\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t: <button\n\t\t\t\t\t\t\t\t\t\tclassName=\"clear-completed\"\n\t\t\t\t\t\t\t\t\t\tonClick={clearCompleted}>\n\t\t\t\t\t\t\t\t\t\tClear completed\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</footer>\n\t\t\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t</div>\n\n\t\t\t\t<aside style={{ textAlign: 'center' }} className=\"record\">\n\t\t\t\t\t<button type=\"button\" onClick={redo} disabled={!canRedo}>redo</button>\n\t\t\t\t\t<button type=\"button\" onClick={undo} disabled={!canUndo}>undo</button>\n\t\t\t\t</aside>\n\t\t\t</section>\n\t\t);\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/TodoApp/index.tsx","/**\n * @author Kuitos\n * @homepage https://github.com/kuitos/\n * @since 2018-06-27 20:32\n */\n\nimport { applySnapshot } from 'mmlpx';\nimport { configure } from 'mobx';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'todomvc-app-css/index.css';\nimport 'todomvc-common/base.css';\nimport TodoApp from './containers/TodoApp';\nimport TodosLoder from './mmlpx/loders/TodosLoder';\n\nconfigure({ enforceActions: true });\n\napplySnapshot(TodosLoder.getSnapshot());\n\nReactDOM.render(\n\t<TodoApp/>,\n\tdocument.body.querySelector('main'),\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.tsx"],"sourceRoot":""}